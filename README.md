# Домашнее задание 26_1

## !!!ВНИМАНИЕ!!! ##
### Инструкция перед запуском проекта (порядок выполнения имеет значение)
1. Перед запуском проекта переименуйте файл [env_template](env_template) в `.env` и поменяйте содержимое на свои переменные окруженния
2. Выполните миграцию `python manage.py migrate`
3. Создайте суперпользователя (имеет все права) `python manage.py create_custom_superuser`

    _Логин: admin@example.com Пароль: 0987_

4. Создайте модератора: `python manage.py create_moderator_user`

    _Логин: moderator@example.com Пароль: qweasd_

5. Создайте простого пользователя: `python manage.py create_simple_user`

    _Логин: test@example.com Пароль: 0987_

6. Заполните базу даных (курсы и уроки): `python manage.py fill_materials_data `
7. Заполните базу даных (платежи): `python manage.py fill_payment_data`

# Задание 1
Подключить и настроить вывод документации для проекта. 
Убедиться, что каждый из реализованных эндпоинтов описан в документации верно, при необходимости описать вручную

Для работы с документацией проекта воспользуйтесь библиотекой [drf-yasg](https://drf-yasg.readthedocs.io/en/stable/) 
или [drf-spectacular](https://drf-spectacular.readthedocs.io/en/latest/).

Как вручную можно сформировать документацию в drf-yasg можно почитать 
[тут](https://drf-yasg.readthedocs.io/en/stable/custom_spec.html), 
в drf-spectacular — [тут](https://habr.com/ru/articles/733942/) 
или [тут](https://habr.com/ru/articles/733942/).


# Задание 2
Подключить возможность оплаты курсов через https://stripe.com/docs/api.

Доступы можно получить напрямую из документации, 
а также пройти простую регистрацию по адресу https://dashboard.stripe.com/register.

_Для работы с учебным проектом достаточно зарегистрировать аккаунт_ 
_и не подтверждать его — аккаунт будет находиться в тестовом режиме._

**Для работы с запросами вам понадобится реализовать обращение к эндпоинтам:**

* https://stripe.com/docs/api/products/create — создание продукта;
* https://stripe.com/docs/api/prices/create — создание цены;
* https://stripe.com/docs/api/checkout/sessions/create — создание сессии для получения ссылки на оплату.

_Подключение оплаты лучше всего рассматривать как обычную задачу подключения к стороннему API._

_Основной путь: запрос на покупку → оплата. Статус проверять не нужно._

_Каждый эквайринг предоставляет тестовые карты для работы с виртуальными деньгами._


# Дополнительное задание
Реализуйте проверку статуса с помощью эндпоинта https://stripe.com/docs/api/checkout/sessions/retrieve
— получение данных о сессии по идентификатору.